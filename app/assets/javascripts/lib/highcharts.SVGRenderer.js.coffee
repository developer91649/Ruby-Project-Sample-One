((H) ->

  Highcharts.SVGRenderer.prototype.symbols.flag = (x, y, w, h)->
    flagPoleHeight = w
    x = x + (w * 0.5)
    y = y - (flagPoleHeight * 0.5)
    [
      'M', x + (0.101 * w), y + (0.453 * w),
      'c', "0-#{0.003*w}", "0-#{0.005*w}", "0-#{0.007*w}",
      'c', "0-#{0.103*w}", "0-#{0.205*w}", "0-#{0.308*w}",
      'c', "0-#{0.009*w}", "#{0.003*w}-#{0.017*w}", "#{0.006*w}-#{0.026*w}",
      'c', "#{0.007*w}-#{0.021*w}", "#{0.018*w}-#{0.04*w}", "#{0.036*w}-#{0.054*w}",
      'c', "#{0.02*w}-#{0.016*w}", "#{0.044*w}-#{0.022*w}", "#{0.07*w}-#{0.02*w}",
      'c', "#{0.043*w}", "#{0.004*w}", "#{0.085*w}", "#{0.017*w}", "#{0.126*w}", "#{0.029*w}",
      'C', "#{x+(0.369*w)}", "#{y+(0.075*w)}", "#{x+(0.4*w)}", "#{y+(0.084*w)}", "#{x+(0.431*w)}", "#{y+(0.09*w)}",
      'c', "#{0.02*w}", "#{0.004*w}", "#{0.041*w}", "#{0.007*w}", "#{0.062*w}", "#{0.006*w}",
      'c', "#{0.048*w}-#{0.002*w}", "#{0.086*w}-#{0.023*w}", "#{0.114*w}-#{0.06*w}",
      'c', "#{0.007*w}-#{0.01*w}", "#{0.013*w}-#{0.02*w}", "#{0.02*w}-#{0.03*w}",
      'c', "#{0*w}", "#{0.002*w}", "#{0*w}", "#{0.003*w}", "#{0*w}", "#{0.005*w}",
      'c', "#{0*w}", "#{0.103*w}", "#{0*w}", "#{0.207*w}", "#{0*w}", "#{0.31*w}",
      'c', "#{0*w}", "#{0.003*w}-#{0.001*w}", "#{0.006*w}-#{0.002*w}", "#{0.009*w}",
      'C', x+(0.612*w), y+(0.352*w),x+(0.598*w),y+(0.374*w),x+(0.579*w),y+(0.392*w),
      'c', "-#{0.02*w}","#{0.019*w}-#{0.044*w}","#{0.034*w}-#{0.072*w}","#{0.037*w}",
      'C', x+(0.488*w), y+(0.431*w), x+(0.469*w), y+(0.431*w), x+(0.451*w), y+(0.427*w),
      'C', x+(0.412*w), y+(0.418*w), x+(0.374*w), y+(0.409*w), x+(0.335*w), y+(0.4*w),
      'C', x+(0.31*w),  y+(0.394*w), x+(0.285*w), y+(0.389*w), x+(0.259*w), y+(0.388*w),
      'C', x+(0.214*w), y+(0.386*w), x+(0.173*w), y+(0.399*w), x+(0.136*w), y+(0.425*w),
      'C', x+(0.125*w), y+(0.432*w), x+(0.115*w), y+(0.442*w), x+(0.104*w), y+(0.45*w),
      'C', x+(0.104*w), y+(0.451*w), x+(0.103*w), y+(0.452*w), x+(0.101*w), y+(0.453*w),
      'z',
      'M', x-(w*0.032), y,
      'l', "#{0.064*w}", 0,
      'l', 0, flagPoleHeight,
      'l', "-#{0.064*w}", 0,
      'z'
    ]

  Highcharts.VMLRenderer.prototype.symbols.flag = Highcharts.SVGRenderer.prototype.symbols.flag if Highcharts.VMLRenderer

) @Highcharts